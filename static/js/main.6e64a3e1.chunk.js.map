{"version":3,"sources":["components/Loader/Loader.module.css","components/Loader/Loader.jsx","components/Button/Button.jsx","components/Searchbar/Searchbar.jsx","components/Loader/LoaderImg.jsx","components/Loader/LoaderIcon.jsx","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","api/api.js","App.js","index.js"],"names":["module","exports","Loader","onClick","onChange","className","s","loadMoreBtn","type","Button","Searchbar","onSubmit","useState","inputText","setInputText","e","preventDefault","alert","autoComplete","autoFocus","placeholder","value","target","Rings","props","width","height","viewBox","xmlns","stroke","color","label","fill","fillRule","transform","strokeWidth","cx","cy","r","radius","strokeOpacity","attributeName","begin","dur","values","calcMode","repeatCount","LoaderIcon","ModalWin","onModalClose","hits","closeByKey","code","useEffect","window","addEventListener","document","querySelector","style","overflow","removeEventListener","currentTarget","src","alt","ImageGalleryItem","id","largeImageURL","isModalOpen","setIsModalOpen","onToggleModal","Modal","ImageGallery","map","item","webformatURL","tags","axios","defaults","baseURL","setParams","params","key","App","setHits","query","setQuery","page","setPage","isLoading","setLoading","getGallery","q","per_page","get","then","data","catch","err","getImages","prev","finally","scrollTo","top","documentElement","scrollHeight","behavior","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6e64a3e1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadMoreBtn\":\"Loader_loadMoreBtn__2DAm4\"};","import PropTypes from 'prop-types';\r\nimport s from '../Loader/Loader.module.css'\r\nconst Loader = ({ onClick, onChange }) => {\r\n \r\n    return (\r\n        <button className={ s.loadMoreBtn}type='button' onClick={onClick} onChange={ onChange}>Load More\r\n        </button>\r\n        \r\n    )\r\n};\r\nLoader.propTypes = {\r\n    onclick: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n \r\n};\r\nexport default Loader;","const Button = () => {\r\n    return (\r\n        \r\n        <button type=\"submit\" className=\"SearchForm-button\" >\r\n                    <span className=\"SearchForm-button-label\">Search</span>\r\n                </button>\r\n    )\r\n};\r\nexport default Button;","import Button from \"../Button\";\r\nimport PropTypes from 'prop-types';\r\nimport {  useState } from 'react';\r\n\r\nconst Searchbar = ({onSubmit}) => {\r\n    const [inputText, setInputText] = useState('');\r\n   \r\n    const handleChange = e => {\r\n    setInputText(e.target.value );\r\n    };\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (inputText === '') return alert('Please insert your query for search');\r\n        onSubmit(inputText)\r\n    setInputText(\"\");\r\n  };\r\n   \r\n   \r\n        return (\r\n            <>\r\n                <header className=\"Searchbar\">\r\n                    <form className=\"SearchForm\" onSubmit={handleSubmit}>\r\n              \r\n                        <Button />\r\n                        <input\r\n                            className=\"SearchForm-input\"\r\n                            type=\"text\"\r\n                            autoComplete=\"off\"\r\n                            autoFocus\r\n                            placeholder=\"Search images and photos\"\r\n                            value={inputText}\r\n                            onChange={handleChange}\r\n                        />\r\n                    </form>\r\n                </header>\r\n            </>\r\n        )\r\n    \r\n};\r\nSearchbar.propTypes = {\r\n  valueInput: PropTypes.string,\r\n    onSubmit: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n \r\n};\r\n    export default Searchbar;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport const Rings = ({ props })=> {\r\n   return  <svg\r\n    width={props.width}\r\n    height={props.height}\r\n    viewBox=\"0 0 45 45\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    stroke={props.color}\r\n    aria-label={props.label}\r\n  >\r\n    <g fill=\"none\" fillRule=\"evenodd\" transform=\"translate(1 1)\" strokeWidth=\"2\">\r\n      <circle cx=\"22\" cy=\"22\" r={props.radius} strokeOpacity=\"0\">\r\n        <animate\r\n          attributeName=\"r\"\r\n          begin=\"1.5s\"\r\n          dur=\"3s\"\r\n          values=\"6;22\"\r\n          calcMode=\"linear\"\r\n          repeatCount=\"indefinite\"\r\n        />\r\n        <animate\r\n          attributeName=\"stroke-opacity\"\r\n          begin=\"1.5s\"\r\n          dur=\"3s\"\r\n          values=\"1;0\"\r\n          calcMode=\"linear\"\r\n          repeatCount=\"indefinite\"\r\n        />\r\n        <animate\r\n          attributeName=\"stroke-width\"\r\n          begin=\"1.5s\"\r\n          dur=\"3s\"\r\n          values=\"2;0\"\r\n          calcMode=\"linear\"\r\n          repeatCount=\"indefinite\"\r\n        />\r\n      </circle>\r\n      <circle cx=\"22\" cy=\"22\" r={props.radius} strokeOpacity=\"0\">\r\n        <animate\r\n          attributeName=\"r\"\r\n          begin=\"3s\"\r\n          dur=\"3s\"\r\n          values=\"6;22\"\r\n          calcMode=\"linear\"\r\n          repeatCount=\"indefinite\"\r\n        />\r\n        <animate\r\n          attributeName=\"strokeOpacity\"\r\n          begin=\"3s\"\r\n          dur=\"3s\"\r\n          values=\"1;0\"\r\n          calcMode=\"linear\"\r\n          repeatCount=\"indefinite\"\r\n        />\r\n        <animate\r\n          attributeName=\"strokeWidth\"\r\n          begin=\"3s\"\r\n          dur=\"3s\"\r\n          values=\"2;0\"\r\n          calcMode=\"linear\"\r\n          repeatCount=\"indefinite\"\r\n        />\r\n      </circle>\r\n      <circle cx=\"22\" cy=\"22\" r={props.radius + 2}>\r\n        <animate\r\n          attributeName=\"r\"\r\n          begin=\"0s\"\r\n          dur=\"1.5s\"\r\n          values=\"6;1;2;3;4;5;6\"\r\n          calcMode=\"linear\"\r\n          repeatCount=\"indefinite\"\r\n        />\r\n      </circle>\r\n    </g>\r\n  </svg>\r\n}\r\n\r\nRings.propTypes = {\r\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  color: PropTypes.string,\r\n  label: PropTypes.string,\r\n  radius: PropTypes.number\r\n};\r\n\r\n","import { Rings } from './LoaderImg.jsx'\r\nconst LoaderIcon = () => {\r\n    const ringsProps = {\r\n  height: 500,\r\n  width: 500,\r\n      color: \"green\",\r\n  radius: 6,\r\n  label: \"audio-loading\"\r\n};\r\n    return (\r\n      <div className='LoadMoreIcon'><Rings props={ringsProps} /></div>\r\n           )\r\n};\r\n\r\nexport default LoaderIcon;","import {  useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nconst ModalWin = ({ onModalClose, hits }) => {\r\n  const handleKeyDown = e => {\r\n    e.preventDefault()\r\n    if (e.target === e.currentTarget) {\r\n      onModalClose()\r\n    }\r\n  }\r\n  const closeByKey = (e) => {\r\n    e.code === 'Escape' && onModalClose()\r\n  }\r\n \r\n  useEffect(() => {\r\n    window.addEventListener('keydown', closeByKey)\r\n    const body = document.querySelector('body');\r\n    body.style.overflow = \"hidden\";\r\n    return () => {window.removeEventListener('keydown', closeByKey) }\r\n  }, [ closeByKey ])\r\n\r\n \r\n    return (\r\n      <div className=\"Overlay\" onClick= {handleKeyDown} >\r\n        <div className=\"Modal\"  >\r\n          <img src={hits} alt={ hits} />\r\n        </div>\r\n      </div>\r\n    )\r\n  \r\n};\r\nModalWin.propTypes = {\r\n    hits: PropTypes.string,\r\n    onModalClose: PropTypes.func,\r\n};\r\nexport default ModalWin;","import {  useState } from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport ModalWin from \"../Modal/Modal.jsx\";\r\nconst ImageGalleryItem = ({id, src, alt, largeImageURL}) => {\r\n    const [isModalOpen, setIsModalOpen]=useState(false)\r\n    const onToggleModal = () => {\r\n        setIsModalOpen((!isModalOpen))\r\n    };\r\n    \r\n          return (\r\n        \r\n              <li className=\"ImageGalleryItem\"  id={id}>\r\n            <img src={src} alt={ alt}  onClick={ onToggleModal} className=\"ImageGalleryItem-image\" />\r\n         {isModalOpen && <ModalWin onModalClose={onToggleModal} hits={largeImageURL}/>}\r\n        </li >\r\n \r\n    )\r\n    \r\n}\r\n ImageGalleryItem.propTypes = {\r\n     alt: PropTypes.string,\r\n     id: PropTypes.number,\r\n     largeImageURL: PropTypes.string,\r\n     src: PropTypes.string,\r\n             \r\n};\r\n\r\nexport default ImageGalleryItem;","import ImageGalleryItem from '../ImageGalleryItem'\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({  hits }) => {\r\n    return (\r\n        <ul className=\"ImageGallery\" >\r\n            {hits.map(item => (\r\n                <ImageGalleryItem\r\n                    key={item.webformatURL}\r\n                    id={item.id}\r\n                    src={item.webformatURL}\r\n                    largeImageURL={item.largeImageURL}\r\n                     alt={item.tags}\r\n                ></ImageGalleryItem >\r\n            ))}</ul>\r\n    )\r\n \r\n};\r\n   ImageGallery.propTypes = {\r\n  hits: PropTypes.array, \r\n};\r\nexport default ImageGallery;","import axios from 'axios';\r\nconst API_KEY = '23793325-ff2052386c334e2849b34704b';\r\n// const API_KEY = '9a3e6cf9d6c643e5a70b43ecc2de2e2f';\r\n// const API_KEY = '79fa6b1eb30a455588335102c0b1e4d1';\r\n\r\n//pixabay.com/api/?q=что_искать&page=номер_страницы&key=твой_ключ&image_type=photo&orientation=horizontal&per_page=12\r\naxios.defaults.baseURL = 'https://pixabay.com/api/';\r\n// axios.defaults.baseURL = 'https://newsapi.org/v2';\r\nconst setParams = params => (axios.defaults.params = { key: API_KEY, ...params });\r\n// const setParams = params => (axios.defaults.params = { apiKey: API_KEY, ...params });\r\nexport const getImages = (query, page = 1) => {\r\n  setParams({\r\n    q: query,\r\n    webformatURL: '',\r\n    largeImageURL: '',\r\n    id: '',\r\n    per_page: 12,\r\n    page,\r\n  });\r\n  return axios\r\n    .get()\r\n    .then(({ data }) => data.hits)\r\n    .catch(err => {\r\n      throw err;\r\n    });\r\n  // return axios.get('everything').then(({ data }) =>\r\n  //   data.articles.map(({ urlToImage, title }) => ({\r\n  //     webformatURL: urlToImage,\r\n  //     tags: title,\r\n  //     largeImageURL: urlToImage,\r\n  //   })),\r\n  // );\r\n};\r\n","import './App.css';\nimport './styles/styles.css';\nimport Loader from './components/Loader';\nimport Searchbar from './components/Searchbar';\nimport LoaderIcon from './components/Loader/LoaderIcon';\nimport ImageGallery from './components/ImageGallery';\nimport { getImages } from './api/api';\nimport { useEffect, useState } from 'react';\n\nconst App = () => {\n  const [hits, setHits] = useState([]);\n  const [query, setQuery] = useState('all');\n  const [page, setPage] = useState(1);\n  const [isLoading, setLoading] = useState(false);\n\n  useEffect(() => {\n    getGallery();\n  }, [query, page]);\n\n  const handleSubmit = query => {\n    setQuery(query);\n    setPage(1);\n    setHits([]);\n  };\n\n  const getGallery = () => {\n    setLoading(true);\n    getImages(query, page)\n      .then(hits => {\n        setHits(prev => {\n          return [...prev, ...hits];\n        });\n      })\n\n      .catch(err => err)\n      .finally(() => {\n        if (page >= 2) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        }\n        setLoading(false);\n      });\n  };\n\n  const handleChangePage = () => {\n    setPage(prev => prev + 1);\n  };\n\n  return (\n    <div className=\"App\">\n      <Searchbar onSubmit={handleSubmit} />\n      <ImageGallery hits={hits} />\n      {isLoading && <LoaderIcon />}\n      {!!hits.length && hits !== [] && <Loader onClick={handleChangePage} onChange={getGallery} />}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}